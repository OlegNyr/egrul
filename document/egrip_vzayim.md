# СТРУКТУРА КАТАЛОГОВ

https://www.nalog.ru/rn77/service/egrip2/egrip_vzayim/

К началу страницы В зависимости от вида предоставляемых сведений, выгрузка производится в соответствующий каталог FTP сервера:

EGRUL – в данный каталог выгружаются сведения из ЕГРЮЛ

EGRIP – в данный каталог выгружаются сведения из ЕГРИП

В вышеуказанных каталогах содержатся следующие подкаталоги:

Полные сведения из ЕГРЮЛ/ЕГРИП на начало года. В этом случае каталог имеет наименование вида 01.01.YYYY_FULL, где YYYY – год, по состоянию на начало которого выгружены сведения.

Например, в каталоге \EGRUL\01.01.2016_FULL\ будут находиться сведения из ЕГРЮЛ по состоянию на 01.01.2016;

Сведения о лицах, по которым в указанный день были внесены изменения. В этом случае каталог имеет наименование вида DD.MM.YYYY, где:
* DD – день
* MM – месяц
* YYYYY – год, в котором были внесены изменения в ЕГРЮЛ/ЕГРИП.

Например, в каталоге \EGRIP\12.01.2016\ будут находиться сведения о лицах, по которым 12 января 2016 были внесены изменения в ЕГРИП.

# СОДЕРЖИМОЕ КАТАЛОГОВ

Архивы В каталоге, содержащем полные сведения или сведения о лицах, по которым в указанный день были внесены изменения в ЕГРЮЛ/ЕГРИП, содержатся архивы с файлами. Имя архива будет имеет вид:

- для архивов, содержащих полные сведения.
- для архивов, содержащих сведения о лицах, по которым на указанную в имени файла дату были внесены изменения в ЕГРЮЛ/ЕГРИП.

EGRUL_FULL_YYYY-MM-DD_N.zip – для архивов, содержащих полные сведения.

EGRUL_YYY-MM-DD_N.zip – для архивов, содержащих сведения о лицах, по которым на указанную в имени файла дату были внесены изменения в ЕГРЮЛ/ЕГРИП.
Где:
* DD – день
* MM – месяц
* YYYYY – год
* N – уникальный идентификатор архива, число

## Файлы 

В каждом архиве может быть до 100 xml-файлов, содержащих до 1000 сведений о лицах. Формат имени файла имеет следующий вид:

EGRUL_FULL_YYYY-MM-DD_N.xml – для файлов, содержащих полные сведения.

EGRUL_YYY-MM-DD_N.xml – для файлов, содержащих сведения о лицах, по которым на указанную в имени файла дату были внесены изменения в ЕГРЮЛ/ЕГРИП.
Где:
* DD – день
* MM – месяц
* YYYYY – год
* N – уникальный идентификатор файла, число.

Таким образом, полный путь к файлу (включая архив) будет следующим:

## Для ЕГРЮЛ:

Полные сведения:
```\EGRUL\01.01.2016\EGRUL_FULL_2016-01-01.zip\EGRUL_FULL_2016-01-01_17648.xml```

Сведения о лицах, по которым на указанную в имени файла дату были внесены изменения:

```\EGRUL\12.01.2016\EGRUL_2016-01-12.zip\EGRUL_ 2016-01-12_17678.xml```

## Для ЕГРИП:

Полные сведения: 
```\EGRIP\01.01.2016\EGRIP_FULL_2016-01-01.zip\EGRIP_FULL_2016-01-01_18413.xml```

Сведения о лицах, по которым на указанную в имени файла дату были внесены изменения:
```\ EGRIP \12.01.2016\ EGRIP 2016-01-12.zip\EGRIP_ 2016-01-12_19010.xml```

# ФОРМАТ ФАЙЛА

ЕГРЮЛ:
``` <?xml version="1.0" encoding="windows-1251"?>
<EGRUL ДатаВыг="2015-07-23">

<СвЮЛ ДатаВып="2015-07-23" …>…</СвЮЛ>

…

<СвЮЛ ДатаВып="2015-02-12" …>…</СвЮЛ>

</EGRUL
```
ЕГРИП:
```
<?xml version="1.0" encoding="windows-1251"?>
<EGRIP ДатаВыг="2015-07-23">

<СвИП ДатаВып="2015-07-23" …>…</СвИП >

…

< СвИП ДатаВып="2015-06-21" …>…</СвИП >

</ EGRIP
```

Каждый узел СвЮЛ или СвИП – соответствует выписке о юридическом лице или индивидуальном предпринимателе на указанную в атрибуте ДатаВып дату. Атрибут ДатаВыг содержит дату формирования файла.

## ОБРАБОТКА РАНЕЕ ЗАГРУЖЕННЫХ СВЕДЕНИЙ

Сведения об одном и том же лице в течение года могут быть выгружены несколько раз. Таким образом, возникнет ситуация, когда в файле \EGRUL\12.01.2016\EGRUL_2016-01-12.zip\ EGRUL_2016-01-12_17678.xml содержится информация о ЮЛ с ОГРН 1234567890123 по состоянию на 12 января 2016 года вида:
```
<?xml version="1.0" encoding="windows-1251"?>
<EGRUL ДатаВыг="2016-01-12">

<СвЮЛ ДатаВып="2016-01-12" ОГРН="1234567890123 ">…</СвЮЛ>

</EGRUL
```

 в файле \EGRUL\09.07.2016\EGRUL_2016-07-09.zip\ EGRUL_2016-07-09_17899.xml содержится информация о ЮЛ с ОГРН 1234567890123 по состоянию на 9 сентября 2016 года вида:
```
<?xml version="1.0" encoding="windows-1251"?>
<EGRUL ДатаВыг="2016-07-09">

<СвЮЛ ДатаВып="2016-07-09" ОГРН="1234567890123 ">…</СвЮЛ>

</EGRUL
```

Оба файла будут содержать открытые сведения о ЮЛ с ОГРН 1234567890123. То есть сведения являются замещающими полностью на уровне элемента СвЮЛ для ЕГРЮЛ (СвИП для ЕГРИП). Ключом, идентифицирующим сведения, является атрибут ОГРН для ЕГРЮЛ и ОГРН для ЕГРИП.